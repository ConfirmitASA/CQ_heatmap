<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css"/>
    <link rel="stylesheet"
          href="https://author.euro.confirmit.com/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/AGalaida/jquery.selectareas.css">
    <script src="https://author.euro.confirmit.com/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/AGalaida/jquery.1.12.4.min.js"></script>
    <script src="https://author.euro.confirmit.com/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/AGalaida/jquery.selectareas.min.js"></script>
    <script src="custom-question.js"></script>
    <script src="design-page-components.js"></script>
    <script src="bundle.js"></script>
</head>
<body>
<div class="survey-settings">
    <div class="comd-alert comd-alert--info">
        <div class="comd-alert__text">
            If you want user to be able to choose only some of answers, remove "Required" property on the Edit
            tab
        </div>
    </div>

    <div class="node-properties-key-fields comd-panel">
        <header class="node-properties__header co-flex co-flex--justify-between co-flex--center">
            <div class="node-properties__toggle co-flex co-flex--center">
                <h4 class="co-text-size-normal">Image options</h4>
                <div class="sd-tooltip-help" data-tooltip-text="This is the main part of the Question
Image is used to create areas on it. You need to specify its URL and exact width that you'd like it to have
When you click on 'Draw image' button, the image is created as it will be in the survey
You can create as many areas as you have answers in the Question
You can also add some description text to each area which will appear in tooltip"></div>
            </div>
            <div class="co-flex co-flex--center">
                <button class="collapse-button comd-icon-button comd-panel__toggle--icon-button"></button>
            </div>
        </header>
        <div class="comd-panel__collapse-area">
            <div id="image-settings">
                <div class="node-properties">
                    <div class="node-property">
                        <label class="node-property__label" for="imageSrc">Image source
                            <div class="sd-tooltip-help"
                                 data-tooltip-text="This image will be used in question to show areas on it&#10;Upload the image in File Library and paste the link of uploaded image here"></div>
                        </label>
                        <input type="text" class="form-input form-input--full-width" name="imageSrc" id="imageSrc">
                    </div>
                </div>
                <div class="node-properties">
                    <div class="node-property">
                        <label class="node-property__label" for="imageWidth">Image width
                            <div class="sd-tooltip-help"
                                 data-tooltip-text="This is the exact width of the image that will be used in the survey&#10;Provide the actual width of the image for better experience"></div>
                        </label>
                        <input type="number" class="form-input form-input--4ch" name="imageWidth" id="imageWidth"
                               value="" min="1">
                        <span>px</span>
                    </div>
                </div>
                <div class="node-properties">
                    <div class="node-property">
                        <label class="node-property__label" for="numberOfAnswers">Number of answers
                            <div class="sd-tooltip-help"
                                 data-tooltip-text="Provide the actual number of answers in the Question (based on answers from 'Edit' tab)"></div>
                        </label>
                        <input type="number" class="form-input form-input--4ch" name="numberOfAnswers" id="numberOfAnswers"
                               value="" min="1">
                    </div>
                </div>
                <div class="node-properties">
                    <div class="node-property button-block">
                        <button class="comd-button comd-button--secondary-neutral" id="draw-image-btn">
                            <span class="comd-button__content">
                                <div class="comd-portal-trigger">Draw image</div>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div id="areas">
                <div class="node-properties">
                    <div class="node-property button-block">
                        <div class="button-block">
                            <button class="comd-button comd-button--secondary-neutral" id="change-image-btn">
                                <span class="comd-button__content">
                                    <div class="comd-portal-trigger">Change image options</div>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="node-properties">
                    <div id="heatmap-wrapper" style="width: 100%; overflow-x: auto;"></div>
                </div>
                <div class="node-properties">
                    <div class="node-property">
                        <h4>
                            Area texts in tooltip
                            <div class="sd-tooltip-help"
                                 data-tooltip-text="These texts will appear in areas' tooltips&#10;If you want to change some area's text, click on the area above"></div>
                        </h4>
                        <div class="inputlist-container">
                            <table class="inputlist">
                                <thead style="display: none;">
                                    <tr>
                                        <th class="inputlist__header"></th>
                                        <th class="inputlist__header"></th>
                                    </tr>
                                </thead>
                                <tbody id="areaTextList">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="node-properties-key-fields comd-panel comd-panel--collapsed" id="answerOptionsWrapper">
        <header class="node-properties__header co-flex co-flex--justify-between co-flex--center">
            <div class="node-properties__toggle co-flex co-flex--center">
                <h4 class="co-text-size-normal">Answer options</h4>
                <div class="sd-tooltip-help" data-tooltip-text="These are not necessary options for the Question's answers"></div>
            </div>
            <div class="co-flex co-flex--center">
                <button class="collapse-button comd-icon-button comd-panel__toggle--icon-button"></button>
            </div>
        </header>
        <div class="comd-panel__collapse-area">
            <div class="node-properties">
                <div class="node-property-container">
                    <div class="node-property node-property--checkbox">
                        <div class="co-toggle co-toggle--checkbox">
                            <input class="co-toggle__input" type="checkbox" name="haveScales" id="haveScales"/>
                            <label for="haveScales" class="node-property__label node-property__label--checkbox">
                                <div class="icon-checkbox co-icon">
                                </div>
                                <span>Show scale buttons</span>
                            </label>
                        </div>
                    </div>
                    <div class="node-property node-property--radio" id="activateScales">
                        <ul class="option-list">
                            <li class="option-toggle">
                                <div class="comd-alert comd-alert--info" style="margin-bottom: 0.5em;" id="defaultScalesInfo">
                                    <div class="comd-alert__text">
                                        If you want to use positive/neutral/negative scores, don't forget to add all
                                        three scales (with "positive", "neutral" and "negative" as codes)
                                    </div>
                                </div>
                                <div class="co-toggle co-toggle--radio">
                                    <input class="co-toggle__input" id="activateDefaultScales" type="radio"
                                           name="activateDefaultScales"/>
                                    <label for="activateDefaultScales"
                                           class="node-property__label node-property__label--radio">
                                        <div class="icon-radio co-icon"></div>
                                        <span>Default positive/neutral/negative scales</span>
                                    </label>
                                </div>
                            </li>
                            <li class="option-toggle">
                                <div class="co-toggle co-toggle--radio">
                                    <input class="co-toggle__input" id="activateCustomScales" type="radio"
                                           name="activateCustomScales"/>
                                    <label for="activateCustomScales"
                                           class="node-property__label node-property__label--radio">
                                        <div class="icon-radio co-icon"></div>
                                        <span>Custom scales</span>
                                    </label>
                                </div>
                                <div style="padding-left: 22px;" id="customScales">
                                    <div class="node-input-area">
                                        <label class="sd-label node-input-area__label">Number of scales
                                            <div class="sd-tooltip-help"
                                                 data-tooltip-text="Provide the actual number of scales in the Question (based on answers from 'Edit' tab)"></div>
                                        </label>
                                        <input class="node-input-area__input form-control input-sm form-input form-input--2ch"
                                               type="number" id="scalesNumber" min="1"/>
                                    </div>
                                    <div class="inputlist-container" id="customScaleListWrapper">
                                        <table class="inputlist">
                                            <thead>
                                                <tr>
                                                    <th class="inputlist__header"></th>
                                                    <th class="inputlist__header">Code</th>
                                                    <th class="inputlist__header">Text</th>
                                                </tr>
                                            </thead>
                                            <tbody id="customScaleList">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="node-properties">
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="number-of-responses__type" style="margin-right: 0.5em;">Number of answers</label>
                        <select class="form-input" name="number-of-responses__type" id="number-of-responses__type"/>
                            <option value="equal">Equal to</option>
                            <option value="min-max" selected>Min/max count</option>
                        </select>
                    </div>
                </div>
                <div class="node-property-container" >
                    <div class="node-property">
                        <label class="node-property__label" for="number-of-responses__min">Min</label>
                        <input type="number" class="form-input form-input--3ch" id="number-of-responses__min" min="1"
                               value=""/>
                    </div>
                </div>
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="number-of-responses__max">Max</label>
                        <input type="number" class="form-input form-input--3ch" id="number-of-responses__max" value=""/>
                    </div>
                </div>
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="number-of-responses__min">Count</label>
                        <input type="number" class="form-input form-input--3ch" id="number-of-responses__equal" min="1"
                               value=""/>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="node-properties-key-fields comd-panel comd-panel--collapsed" id="stylesWrapper">
        <header class="node-properties__header co-flex co-flex--justify-between co-flex--center">
            <div class="node-properties__toggle co-flex co-flex--center">
                <h4 class="co-text-size-normal">Additional styles</h4>
            </div>
            <div class="co-flex co-flex--center">
                <button class="collapse-button comd-icon-button comd-panel__toggle--icon-button"></button>
            </div>
        </header>
        <div class="comd-panel__collapse-area">
            <div class="node-properties">
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="areaHighlighterSelector">Type of area highlighting</label>
                        <select class="form-input" id="areaHighlighterSelector"/>
                            <option value="color" selected>Background color on hover</option>
                            <option value="width">Permanent border</option>
                        </select>
                    </div>
                </div>
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="areaHoverColor">Color</label>
                        <input type="color" class="form-input" id="areaHoverColor"/>
                    </div>
                </div>
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="areaBorderWidth">Border width</label>
                        <input type="number" class="form-input form-input--4ch" id="areaBorderWidth" min="1"/>
                        <span>px</span>
                    </div>
                </div>
                <div class="node-property-container">
                    <div class="node-property">
                        <label class="node-property__label" for="areaHoverColor">Border color</label>
                        <input type="color" class="form-input" id="areaBorderColor"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="comd-tooltip comd-tooltip--right" id="tooltipBox">
    <div class="comd-tooltip__arrow"></div>
    <div class="comd-tooltip__inner"></div>
</div>
</body>
<script>
    new customQuestionsLibrary.HeatmapDesignerManager({question: customQuestion});
</script>
</html>